---
title: 短期のシーン分析例
description: "短期のシーン分析例を具体的なケースを元に分析方法を解析します"
permalink: /basics/analysis_sample.html
---

{% include base_path %}

このページでは比較的短期間の特定のシーンを想定した分析シーケンスの例を記載します。

## 例1: 平日の歩数をグラフ化したい

一般的に平日は起床→出社→勤務→帰社→自由時間→就寝のようなサイクルで過ごされる方が多いかと思います。運動不足が気になる方のために歩数をグラフ化してみましょう。

### 使用データ

15秒、60秒間隔のどちらでも計算可能ですが、ある程度サマってある60秒間隔データを使用します。

### 前処理

- wea_s >= 30 (60秒のうち30秒は装着フラグがtrue、静止時にフラグが立つこともあるので、50％付近でフィルタします)
- tl_xav > -45, tl_xav < 45, tl_yav > -45, tl_yav < 90 (普通にメガネをかける角度ではない場合は、装着せず収納している可能性があるのでフィルタします)

### グループ化

- 粒度: 行動を細かく思い出したい時は15分間隔、見やすさ重視なら60分間隔
- 集計関数: sum(stp_fst + stp_mid + stp_slw + stp_vsl)

## 例2: 勤務中の集中度を可視化したい

今日は仕事がはかどった、なんだか集中できなかった、など主観的な感想はよくあるかと思います。実際にデータを見ることでその日を客観的に振り返ってみましょう。

### 使用データ

没入などのメンタル指標は15秒間隔データを使用することをお勧めいたします。

### 前処理

- isl == false(装着状態の時)
- vld == true(まばたき関連の測定精度が十分な時のデータのみ使用)
- tl_xav > -45, tl_xav < 45, tl_yav > -45, tl_yav < 90 (普通にメガネをかける角度ではない場合は、バック等に収納している可能性があるのでフィルタします)

### グループ化

- 粒度: メンタル指標は増減のスイングが大きくサマりすぎるとわかりづらいデータになるので10分間隔
- 集計関数: mean(sc_fcs), もしくはsum(sc_fcs >= 60 ? 1 : 0)/sum(sc_fcs != null ? 1 : 0) (平均を取るか、高かった区間の率を取る)

## 例3: 歩行時のピッチ(1分間の歩数)をいろんな人で比較したい

「歩くのが早い人は仕事がデキる」という都市伝説がありますが、それを確かめるために「その人の平均ピッチ」を算出してみましょう。

### 使用データ

15秒、60秒間隔のどちらでも計算可能ですが、ある程度サマってある60秒間隔データを使用します。

### 前処理

歩き続けている時のデータだけ残すため、それ以外の条件を除外していきます。

- stp_s >= 50 (その人の通常の歩行状態のみを抜き出したい（ちょっと部屋をウロウロしただけのデータは削りたい）ため、50秒以上歩いているデータのみ)
- tl_xav > -45, tl_xav < 45, tl_yav > -45, tl_yav < 45 (普通にメガネをかける角度ではない場合は、装着せず収納している可能性があるのでフィルタします)

### グループ化

- 粒度: ユーザー毎
- 集計関数: mean((stp_fst + stp_mid + stp_slw + stp_vsl) * 60 / stp_s) (その60秒の全歩数に歩いていた秒数の率をかける)
